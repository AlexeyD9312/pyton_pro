{% extends 'base.html' %}

{% block title %}Latest currency rates{% endblock title %}

{% block body %}
<h1 class="text-2xl font-bold mb-4">Latest Currency Rates</h1>

{# make table #}
<table class="table-auto w-full bg-white shadow-md rounded mb-6">
    <thead>
        <tr class="bg-gray-200">
            <th class="px-4 py-2">ID</th> 
            <th class="px-4 py-2">Currency</th>         
            <th class="px-4 py-2">Price in USD</th>      
            <th class="px-4 py-2">Date</th>             
        </tr>
    </thead>
    <tbody>
        {% for name, entry in latest.items() %}  {# dict current_data #}
        <tr class="border-t">
            <td class="px-4 py-2">{{ entry.id }}</td>
            <td class="px-4 py-2">{{ name }}</td>
            <td class="px-4 py-2">{{ entry.price_in_dollar }}</td>
            <td class="px-4 py-2">{{ entry.date.strftime('%Y-%m-%d') }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{# sched for  EUR, GBP, CNY #}
<h2 class="text-xl font-semibold mb-2">Trends for EUR, GBP, CNY</h2>
<img src="data:image/png;base64,{{ plot_url }}" alt="Currency Trend Graph" class="shadow rounded">

{# link to add #}
 <a href="{{ url_for('page_add') }}" class="bg-blue-500 text-white px-4 py-2 rounded inline-block mt-6">Add Currency</a> 

{% endblock %}